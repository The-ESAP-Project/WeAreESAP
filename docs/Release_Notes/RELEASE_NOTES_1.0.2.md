# Version 1.0.2 - 代号「迹」

> *光已点燃,瞳已睁开,现在让我们记录下每一个足迹。*

## 序章:追溯之路

当世界被见证,当秩序被确认,我们开始思考:

**用户走过的路径,是否值得被记录?**
**跳转的瞬间,是否能留下坐标?**
**优化的痕迹,是否让体验更加流畅?**

于是我们在代码中刻下轨迹——不是为了监视,而是为了**引导与回溯**。

---

## 留痕纪元

### **【导航】** URL 状态持久化:路径的记忆

```
当你浏览技术文档,切换不同的模块
URL 会悄悄记住你的选择
当你分享链接,或是刷新页面
世界会回到你离开时的那个瞬间

实现:
  · 从 URL 参数读取当前模块状态
  · 切换模块时自动更新 URL
  · 支持浏览器前进/后退导航
  · 分享链接可直达特定内容
```

**影响范围** · TechPageClient.tsx
**用户价值** · 状态可分享、可追溯、不丢失

### **【定位】** 锚点导航:精确的跳跃

```
技术文档不再是单一的长页面
每个章节都有自己的坐标
点击目录,平滑滚动至对应位置
URL hash 记录当前的阅读进度

实现:
  · 为每个 Section 分配唯一 ID
  · 支持 hash 滚动与定位
  · 优化滚动行为,提升视觉体验
```

**影响范围** · TechSectionView 组件
**用户价值** · 快速定位、精准跳转

### **【优化】** 性能提升:看不见的速度

```
组件渲染的冗余被消除
重复创建的对象被提取为常量
React.memo 为合适的组件加持
自定义比较函数精确控制更新时机

优化清单:
  · TechContent 所有子组件使用 memo
  · 警告框样式配置提取为常量
  · TechModuleView 添加自定义比较函数
  · 减少不必要的重渲染
```

**影响范围** · TechContent.tsx, TechModuleView.tsx
**技术收益** · 渲染效率提升,交互更流畅

### **【工程】** CI/CD 优化:更聪明的守护者

```
守护者学会了分辨哪些变更值得警醒:
  · 文档修改不再触发完整测试
  · preview 分支推送不触发 CI
  · 构建脚本更加健壮可靠
  · 版本号获取增强错误处理

路径排除:
  docs/**          —— 文档变更无需测试
  *.md             —— Markdown 文件不影响功能
  public/data/**   —— 数据文件独立管理
```

**影响范围** · .github/workflows/test.yml, generate-build-info.mjs
**开发收益** · CI 运行更快,开发体验更好

### **【细节】** 其他改进

- **角色模板优化** · 更新层级选项描述和默认推荐
- **构建信息生成** · 修复降级方案,改进错误处理
- **工作区配置** · 添加 @swc/core 到构建依赖

---

## 统计:打磨的印记

```
4 个提交   · 从 1.0.1 到 1.0.2 的迭代
14 个文件  · 被改变或优化
+388 行    · 功能的扩展
-161 行    · 冗余的消除
净增长 +227 行

主要贡献:
  AptS:1547 · 技术页面功能与性能增强
  AptS:2275 · CI/CD 流程与构建脚本优化
```

---

## 技术:看得见与看不见的变化

**用户可感知的改进:**
- URL 可分享特定模块状态
- 锚点导航精准定位内容
- 页面交互更加流畅自然

**开发者可感知的优化:**
- CI 运行时间显著减少
- 构建脚本更加稳定可靠
- 组件渲染性能提升

**核心文件变更:**

```
website/app/[locale]/tech/TechPageClient.tsx
website/components/tech/TechContent.tsx
website/components/tech/TechModuleView.tsx
.github/workflows/test.yml
website/scripts/generate-build-info.mjs
```

---

## 尾声:迹与道

1.0.0 点燃了光,1.0.1 睁开了眼睛,1.0.2 记录了足迹。

这个版本没有华丽的新功能,却让每一次点击都更加精准,让每一个状态都可以被追溯,让每一行代码都运行得更加高效。

**足迹不仅是记录过去,更是为未来指明方向。**

当用户离开又回来,世界会记得他们的选择。
当开发者推送代码,系统会更智能地响应。
当组件渲染刷新,性能会悄悄地提升。

这就是「迹」——看似微小,却不可或缺。

---

**— AptS:1547, AptS:2275**
*于公元 2025 年 11 月 11 日*
*版本虽小,体验升华*
